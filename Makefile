# désactivation des règles implicites
#.SUFFIXES:

# définition des variables
CFLAGS = -Wall -lpthread -lm -ansi $(INCDIR)

# Dossier de l'executable
EXEDIR = home/sammako/Systeme-exploit/bin

# Adresse des sources, des objets et des includes :
SRCDIR = home/sammako/Systeme-exploit/src
OBJDIR = home/sammako/Systeme-exploit/obj
INCDIR = -I/home/sammako/Systeme-exploit/include

all : reduction
reduction : reduction.o operations.o process_chef.o process_directeur.o auxiliaires.o
	$ gcc $(CFLAGS) -o reduction reduction.o operations.o process_chef.o process_directeur.o auxiliaires.o
# ici on fait l'édition de lien entre tous les fichiers en .o

reduction.o : process_directeur.o process_directeur.h main.c
	$ gcc $(CFLAGS) -c main.c -o reduction.o
 
process_directeur.o : process_chef.o process_chef.h process_directeur.c
	$ gcc $(CFLAGS) -c process_directeur.c -o process_directeur.o

process_chef.o : auxiliaires.o auxiliaires.h process_chef.c
	$ gcc $(CFLAGS) -c process_chef.c -o process_chef.o
	
auxiliaires.o : operations.o operations.h auxiliaires.c 
	$ gcc $(CFLAGS) -c auxiliaires.c -o auxiliaires.o
	
operations.o : operations.c
	$ gcc $(CFLAGS) -c operations.c -o operations.o

import:
	@rm -f *.cpp *~
	@for dir in $(SRCDIR); do find $$dir -name \*.cpp -exec ln -s {} \; ; done
 
depend:
	@makedepend $(INCDIR) -Y -m $(SOURCES) 2> /dev/null

clean :
	-rm reduction

# reste a trouver comment faire apparaitre l'exe dans le fichier Fichiers
