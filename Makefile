##### Variables
EXEDIR = ./bin
SRCDIR = ./src
OBJDIR = ./obj
INCDIR = -I../ld -T../bin -I../usr -I./include
CPPFLAGS = -Wall -pedantic -ansi $(INCDIR) 
LFLAGS = -lm -lpthread
 
##### Fichiers
 
SOURCES = $(wildcard *.cpp)
OBJETS = $(patsubst %.cpp,%.o,$(wildcard *.cpp))
CIBLE = reduction
 
##### Regles de construction
 
all: $(OBJETS)
	gcc $(CPPFLAGS) $(OBJETS) $(LFLAGS) -o $(CIBLE)
 
import:
	@rm -f *.cpp *~
	@for dir in $(SRCDIR); do find $$dir -name \*.cpp -exec ln -s {} \; ; done
 
depend:
	@makedepend $(INCDIR) -Y -m $(SOURCES) 2> /dev/null
 
clean:
	@rm -f *.o *.bak *~ *%
